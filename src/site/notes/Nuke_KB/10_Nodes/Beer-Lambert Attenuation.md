---
{"dg-publish":true,"permalink":"/nuke-kb/10-nodes/beer-lambert-attenuation/","tags":["nuke","node","integration","deep"]}
---


https://www.nukepedia.com/tools/gizmos/other/beer-lambert-attenuation/
Compatible Nuke versions: 13.0 or later

## ğŸ§  Description

A Gizmo for physically based underwater attenuation, using Beer-Lambert's law as its engine.

![](https://www.nukepedia.com/assets/img/users/jorritSchulte/0s/nl/cq/5q/Nodes.png)

Includes a non-deep and Deep version of the tool for better result around semi transparent edges, the results of the two versions of the nodes are otherwise the same.
The Realistic falloff of the colors is automatically generated by the set ocean depth, and position of the camera, and the depth pass to calculate correct color values.

The basic formula for Beerâ€“Lambert attenuation used in the tool is the following

![](https://www.nukepedia.com/assets/img/users/jorritSchulte/e8/zv/2z/7q/BeerLambertFormulaWhite.png)

where  
I = resulting light intensity  
I0 = incoming light intensity  
e = Euler's number  
Î± = attenuation coefficient  
l = path length

Besides the basic attenuation, the tool also includes optional built in atmospheric effects â€“ haze and depth based diffusion to blend everything together to achieve a realistic underwater look all in one node.
## ğŸ¯ When to use


## âš ï¸ Known pitfalls

## ğŸ§© Dependencies

![[BeerLambertAttenuation.gizmo]]

![[DeepBeerLambertAttenuation.gizmo]]

![[DeepBeerLambertAttenuation_DeepC.gizmo]]

![[Install.txt]]



## ğŸ§ª Alternatives

## ğŸ§¾ Code (menu.py)

```
#set this to True if DeepC is installed
DeepC = False

toolbar = nuke.toolbar("Nodes")
userMenu = toolbar.addMenu("User", icon="Modify.png")

otherMenu = userMenu.addMenu('Other', 'ToolbarOther.png')
otherMenu.addCommand("BeerLambertAttenuation", "nuke.createNode('BeerLambertAttenuation')")
if DeepC:
  otherMenu.addCommand("DeepBeerLambertAttenuation", "nuke.createNode('DeepBeerLambertAttenuation_DeepC')")
else:
  otherMenu.addCommand("DeepBeerLambertAttenuation", "nuke.createNode('DeepBeerLambertAttenuation')")
```